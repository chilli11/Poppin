<div class="col-md-4">
	<div class="card">
		<div class="card-header card-header-primary">
			<h4 class="card-title">{{@location.name}}</h4>
			<p class="address">{{@location.address.line1}} // {{@location.address.city}}, {{@location.address.state}}</p>
			<p>
				{{#if (or @isAdmin @isVendor)}}
					<span class="btn btn-info btn-sm" {{on "click" @startEdit}}>Edit</span> // 
				{{/if}}
				<span class="btn btn-{{if @isFavorite 'success' 'info'}} btn-sm" {{on 'click' @favAction}}>
					{{if @isFavorite 'Unpin' 'Pin Location'}}
				</span>
			</p>
			{{#if @location.website}}
			<p>
				<a href="{{@location.website}}" class="text-dark" target="_blank">{{@location.website}}</a>
			</p>
			{{/if}}
		</div>
		<div class="card-body">
			<LoadingSpinner @isLoading={{@isLoading}}>
				{{#if (or @isAdmin @isVendor)}}
					<div class="row text-center">
						<h3 class="col-md-12">
							{{#if (gt @location.crowdSize 0)}}
								<img width="40" role="button" src="/images/arrow_circle_down-24px.svg" {{on 'click' @decrement}} />
							{{/if}}
							{{@location.crowdSize}}
							<img width="40" role="button" src="/images/arrow_circle_up-24px.svg" {{on 'click' @increment}} />
						</h3>
					</div>
				{{/if}}
				<dl>
					<dt>Occupancy</dt>
					<dd>{{@location.capacity}}</dd>
					<dt>Categories:</dt>
					<dd>
						{{#each @categories as |category|}}
							{{category.name}}{{unless (eq category @categories.lastObject) ' //'}}
						{{/each}}
					</dd>
					<dt>Visit Length:</dt>
					<dd>{{@location.visitLength}}</dd>
					{{#if @location.menus}}
						<dt>Menu(s)</dt>
						{{#each @location.menus as |menu|}}
							<a href={{menu.url}} target="_blank" class="btn btn-default btn-small">{{menu.name}}</a>
						{{/each}}
					{{/if}}

					{{#if @location.addlPhotoUrls}}
						<dt>Photo(s)</dt>
						{{#each @location.addlPhotoUrls as |pic|}}
							<dd>
								<a href={{pic}} target="_blank">
									<img style="width: 100%;" src={{pic}} />
								</a>
								<hr>
							</dd>
						{{/each}}
					{{/if}}

				</dl>
			</LoadingSpinner>
		</div>
	</div>
</div>

<div class="col-md-8">
	<div class="card">
		<div class="card-header card-header-primary">
			<h4 class="card-title">Yelp Details {{unless (or @location.yelpUrl @location.yelpDetails) '(unavailable...check back later)'}}</h4>
		</div>
		<div class="card-body"> 
			<iframe style="width: 100%; height: 100vh;" src={{if @location.yelpUrl @location.yelpUrl @location.yelpDetails.url}} />
		</div>
	</div>
</div>